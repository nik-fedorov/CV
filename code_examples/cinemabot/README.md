# Cinemabot

Данный репозиторий содержит код асинхронного телеграм бота, написанного на языке Python с использованием библиотеки aiogram. 

**Ник бота в телеграме:** @NikitkaCinemaBot

## Функциональность бота

Бот предназначен для поиска информации о фильмах и сериалах в интернете. 
Он поддерживает следующие команды:

- /start, /help - показывают приветственное сообщение с краткой инструкцией по использованию бота и списком его команд.
- /history - выводит историю поиска пользователя
- /stats - показывает статистику о том, сколько раз предлагался пользователю каждый фильм
- /find - бот принимает названия фильмов или сериалов (запросы) на русском и английском языках после команды /find. 
После чего находит для запрашиваемого фильма год и страну производства, актеров в главных ролях, жанр, длительность и прочую инфу о нем.
Также в ответном сообщении бота присутствуют найденные им ссылки, по которым можно посмотреть данный фильм/сериал онлайн. 

## Код

### Требования для запуска кода

Должны быть установлены следующие библиотеки (перечислены в файле requirements.txt), а также интерпретатор python:

- aiogram
- aiohttp
- pypika
- bs4
- Pillow

### Как работает бот

1) При запросе фильма бот делает поисковый запрос в гугл с запрашиваемым именем фильма. 
Оттуда он достает ссылку на imdb.com и парсит из нее *id* фильма в базе imdb. 

2) Далее бот использует imbd-api (https://imdb-api.com), чтобы по id найти всю нужную информацию о фильме. Далее

3) Бот берет настоящее имя фильма из базы и делает посковый запрос a.k.a. "смотреть онлайн <название фильма>", 
и парсит из поисковой выдачи знакомые ему сайты, на которых гугл предлагает посмотреть фильм/сериал. 
Бот возвращает этот список пользователю.

### Как можно улучшить этого бота

Можно было бы распарсить сайт imdb.com и достать оттуда всю нужную инфу. 
Таким образом нам бы вообще не потребовалось использовать никакое дополнительное api.
